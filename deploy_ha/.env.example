# ==================================================
# Vault Crypto Plugin - HA Cluster Configuration
# ==================================================
# Usage: cp .env.example .env && vim .env
#
# Each of the 3 servers needs its own .env with:
#   - Unique VAULT_NODE_ID (vault-1, vault-2, vault-3)
#   - Unique VAULT_FQDN (this node's reachable address)
#   - Unique VAULT_CONTAINER_NAME and VAULT_DATA_VOLUME
#   - Same cluster node addresses (VAULT_NODE_1/2/3_ADDR)

# ---------- This Node ----------
VAULT_VERSION=1.21
VAULT_CONTAINER_NAME=vault-ha-1
VAULT_PORT=8200
VAULT_CLUSTER_PORT=8201
VAULT_DATA_VOLUME=vault-ha-data-1
VAULT_NODE_ID=vault-1
VAULT_FQDN=vault-1.example.com

# ---------- Cluster Nodes (all 3 nodes) ----------
# These must be reachable from all nodes in the cluster
VAULT_NODE_1_ADDR=https://vault-1.example.com:8200
VAULT_NODE_2_ADDR=https://vault-2.example.com:8200
VAULT_NODE_3_ADDR=https://vault-3.example.com:8200

# ---------- TLS ----------
# TLS is REQUIRED for HA cluster communication. Do NOT set to true.
TLS_DISABLE=false

# ---------- Unseal Method ----------
# Options: shamir, awskms
UNSEAL_METHOD=shamir

# ---------- AWS KMS (only for awskms unseal method) ----------
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_REGION=us-east-1
# AWS_KMS_KEY_ID=

# ---------- Plugin ----------
PLUGIN_VERSION=v0.1.0
PLUGIN_NAME=vault-plugin-crypto
PLUGIN_MOUNT_PATH=crypto

# ---------- Vault Init (first time, on node-1 only) ----------
KEY_SHARES=5
KEY_THRESHOLD=3

# ---------- Logging ----------
# Options: trace, debug, info, warn, error
LOG_LEVEL=info
